"use strict";!function(e,t){var o="plugin_mobileMenu",n=function(o,n){var i=this;i.element=o,i.attributes=["center","zoom"],i.defaults={debug:!1,baseClass:"mobile-menu",bodyMenuClass:"has-mobile-menu",menuOpenClass:"mobile-menu-open",toggleButtonClass:"toggle-mobile-menu",toggleButtonTxt:"Toggle mobile menu",toggleSubmenuTxt:"Toggle Submenu",collapsible:!1,bufferTime:500,dataAttr:"mobile-menu",eventPostfix:".mobile-menu",menuStatus:!1,mobileMenuBreakpoint:768},i.buffer=void 0,i.$body=e("body"),i.$win=e(t),i.$element=void 0,i.$menu=void 0,i.$mobile=void 0,i.$mobileWrap=void 0,i.$mobileBody=void 0,i.$mobileHead=void 0,i.$mobileToggle=void 0,i.$toggle=void 0,i.$toggleParent=void 0,i._init(n)};n.prototype={_log:function(e){if(this.settings.debug===!0){for(var t=arguments.length,o=Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];console.log("[mobileMenu:"+e+"]",o)}},toggle:function(e){this._log("toggle",e);var t=this,o=t.settings,n=e;void 0===e&&(n=!o.menuStatus),t.$body.toggleClass(o.menuOpenClass,n),o.menuStatus=n,t.$element.trigger("toggle")},_createToggleButton:function(){this._log("_createToggleButton");var t=this,o=e('<button type="button"></button>'),n=t.settings.toggleButtonTxt;return o.text(n).attr("title",n).addClass(t.settings.toggleButtonClass),o},_createHead:function(){this._log("_createHead");var t=this,o=t.settings,n=e('<header class="'+o.baseClass+'-head"></header>'),i=t._createToggleButton();e(".navbar-brand").clone().appendTo(n),i.prependTo(n),n.appendTo(t.$mobileWrap),t.$mobileHead=n,t.$mobileToggle=i},_createBody:function(){this._log("_createBody");var t=this,o=t.settings,n=e('<div class="'+o.baseClass+'-body"></div>'),i=t.$element.clone().attr("id","mobile-menu").addClass(o.baseClass).appendTo(n);i.find(".active-trail").attr("data-options",'{"open":true}'),i.find(".expanded").append('<a href="#" class="submenu-trigger">'+o.toggleSubmenuTxt+"</a>"),n.appendTo(t.$mobileWrap),o.collapsible===!0&&(i.find(".expanded").collapsible({trigger:".submenu-trigger",menu:".sub-menu"}),i.on("click",".submenu-trigger",function(e){e.stopPropagation()})),t.$mobileBody=n,t.$mobile=i},create:function(){this._log("create");var t=this,o=t.settings,n=e('<div class="'+o.baseClass+'-wrap"></div>'),i=e(".navbar-header"),s=t._createToggleButton().appendTo(i);t.$toggleParent=i,t.$toggle=s,t.$mobileWrap=n,t._createHead(),t._createBody(),n.wrapInner('<div class="'+o.baseClass+'-container"></div>').appendTo(t.$body),t.$element.trigger("create")},toggleStatus:function(){this._log("toggleStatus");var e=this,t=e.settings;e.$body.toggleClass(t.bodyMenuClass,e.$win.width()<t.mobileMenuBreakpoint)},setListener:function(){this._log("setListener");var e=this,t=e.settings;e.$body.on("click"+t.eventPostfix,"."+t.toggleButtonClass,function(t){t.stopPropagation(),e.toggle()}),e.$body.on("click"+t.eventPostfix,function(){e.$body.hasClass(t.menuOpenClass)&&e.toggle()}),e.$win.on("resize.mobile",function(){clearTimeout(e.buffer),e.buffer=setTimeout(e.toggleStatus,t.bufferTime)})},_init:function(t){var o=this,n=e.extend(o.defaults,t);o.$element=e(o.element),o.settings=n,o._log("_init",t),o.create(),o.setListener(),o.$win.trigger("resize.mobile"),o.$element.trigger("init",t)}},e.fn.mobileMenu=function(t,i){return this.each(function(){var s=this;e.data(s,o)?n.prototype[t]&&"string"==typeof t&&"_"!==t.substr(0,1)&&e.data(s,o)[t](i):e.data(s,o,new n(s,t))})}}(jQuery,window);